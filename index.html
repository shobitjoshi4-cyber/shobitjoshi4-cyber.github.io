<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine ğŸ’˜</title>

<style>
body{
margin:0;
height:100vh;
font-family:Arial,sans-serif;
background:linear-gradient(135deg,#ff4e8a,#ff9a9e);
display:flex;
justify-content:center;
align-items:center;
overflow:hidden;
transition:.5s;
}

.dark{
background:linear-gradient(135deg,#111,#333);
color:white;
}

.card{
background:white;
padding:30px;
border-radius:20px;
text-align:center;
box-shadow:0 10px 30px rgba(0,0,0,.3);
width:90%;
max-width:420px;
}

.dark .card{background:#222;}

button{
padding:12px 25px;
margin:10px;
border:none;
border-radius:20px;
font-size:16px;
cursor:pointer;
transition:.2s;
}

button:hover{transform:scale(1.05);}

#yesBtn{background:#ff1744;color:white;}
#noBtn{background:#999;color:white;position:relative;}
#themeBtn{background:#673ab7;color:white;}
#shareBtn{background:#25D366;color:white;}

.hidden{display:none;}

#gif{
width:220px;
margin-top:15px;
border-radius:15px;
}

.heart{
position:fixed;
font-size:22px;
animation:float 4s linear;
}

.confetti,.firework{
position:fixed;
width:10px;
height:10px;
border-radius:50%;
animation:fall 3s linear;
}

@keyframes float{
to{transform:translateY(-100vh);opacity:0;}
}

@keyframes fall{
to{transform:translateY(100vh);}
}
</style>
</head>

<body>

<!-- Sounds -->
<audio id="noSound">
  <source src="https://www.soundjay.com/buttons/sounds/button-10.mp3">
</audio>

<audio id="music" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<div class="card">
<h2 id="title">Will you be my Valentine, Isha? ğŸ’˜</h2>
<p id="countdown"></p>
<p id="message">Choose wisely ğŸ˜</p>

<button id="yesBtn">Yes ğŸ’–</button>
<button id="noBtn">No ğŸ™ˆ</button>

<img id="gif" class="hidden">

<br>
<button id="shareBtn" class="hidden">Share on WhatsApp ğŸ’Œ</button>
<button id="themeBtn">Toggle Theme ğŸŒ™</button>
</div>

<script>
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const msg=document.getElementById("message");
const title=document.getElementById("title");
const gif=document.getElementById("gif");
const themeBtn=document.getElementById("themeBtn");
const shareBtn=document.getElementById("shareBtn");
const music=document.getElementById("music");
const noSound=document.getElementById("noSound");

let noCount=0;

// Name from URL (default = Isha)
const params=new URLSearchParams(window.location.search);
const name=params.get("name") || "Isha";
title.textContent="Will you be my Valentine, "+name+"? ğŸ’˜";

// Countdown
function updateCountdown(){
  const now=new Date();
  const valentine=new Date(now.getFullYear(),1,14);
  const diff=valentine-now;
  const days=Math.max(0,Math.floor(diff/(1000*60*60*24)));
  document.getElementById("countdown").textContent=
    days+" days to Valentineâ€™s Day ğŸ’•";
}
updateCountdown();

// GIF list
const gifs=[
  "https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif",
  "https://media.giphy.com/media/26BRv0ThflsHCqDrG/giphy.gif",
  "https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif"
];

function moveNo(){
  const x=Math.random()*(window.innerWidth-noBtn.offsetWidth);
  const y=Math.random()*(window.innerHeight-noBtn.offsetHeight);
  noBtn.style.position="absolute";
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";
}

// Move when cursor near
noBtn.addEventListener("mouseenter",()=>{
  if(noCount>=1){
    moveNo();
  }
});

// Click No
noBtn.addEventListener("click",()=>{
  noSound.play();
  noCount++;
  if(noCount===1){
    msg.textContent="Wrong answer ğŸ˜¤ Try again!";
  } else {
    moveNo();
    msg.textContent="You canâ€™t escape ğŸ˜‚";
  }
});

// Yes button
yesBtn.addEventListener("click",()=>{
  title.textContent="YAYYY ğŸ’˜ğŸ˜";
  msg.textContent="Best Valentine ever â¤ï¸";
  yesBtn.classList.add("hidden");
  noBtn.classList.add("hidden");

  gif.src=gifs[Math.floor(Math.random()*gifs.length)];
  gif.classList.remove("hidden");

  shareBtn.classList.remove("hidden");

  music.play();
  launchConfetti();
  startHearts();
  fireworks();
});

// Theme toggle
themeBtn.addEventListener("click",()=>{
  document.body.classList.toggle("dark");
});

// Share
shareBtn.addEventListener("click",()=>{
  window.open("https://wa.me/?text=Someone has a Valentine question ğŸ’˜ "+window.location.href);
});

function launchConfetti(){
  for(let i=0;i<30;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.background=randomColor();
    c.style.left=Math.random()*window.innerWidth+"px";
    c.style.top="-10px";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
  }
}

function fireworks(){
  for(let i=0;i<30;i++){
    const f=document.createElement("div");
    f.className="firework";
    f.style.background=randomColor();
    f.style.left=(window.innerWidth/2)+"px";
    f.style.top=(window.innerHeight/2)+"px";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),3000);
  }
}

function startHearts(){
  setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.textContent="â¤ï¸";
    h.style.left=Math.random()*window.innerWidth+"px";
    h.style.bottom="0";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  },400);
}

function randomColor(){
  const colors=["#ff1744","#ff4081","#f50057","#d81b60"];
  return colors[Math.floor(Math.random()*colors.length)];
}
</script>

</body>
</html>
