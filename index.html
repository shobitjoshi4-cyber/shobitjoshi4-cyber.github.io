<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine ğŸ’˜</title>

<style>
body{
margin:0;
height:100vh;
font-family:Arial,sans-serif;
background:linear-gradient(135deg,#ff4e8a,#ff9a9e);
display:flex;
justify-content:center;
align-items:center;
overflow:hidden;
transition:.5s;
}

.dark{
background:linear-gradient(135deg,#111,#333);
color:white;
}

.card{
background:white;
padding:30px;
border-radius:20px;
text-align:center;
box-shadow:0 10px 30px rgba(0,0,0,.3);
width:90%;
max-width:400px;
}

.dark .card{
background:#222;
}

button{
padding:12px 25px;
font-size:16px;
border-radius:25px;
border:none;
margin:10px;
cursor:pointer;
}

#yesBtn{background:#ff1744;color:white;}
#noBtn{background:#999;color:white;}
#shareBtn{background:#25D366;color:white;}
#themeBtn{background:#673ab7;color:white;}

.hidden{display:none;}

#gif{
width:220px;
margin-top:15px;
border-radius:15px;
}

.heart{
position:fixed;
font-size:22px;
animation:float 4s linear;
}

.confetti{
position:fixed;
width:10px;
height:10px;
border-radius:50%;
animation:fall 3s linear;
}

@keyframes float{
to{transform:translateY(-100vh);opacity:0;}
}

@keyframes fall{
to{transform:translateY(100vh);}
}
</style>
</head>

<body>

<div class="card">
<h2 id="title">Will you be my Valentine? ğŸ’˜</h2>
<p id="message">I promise chocolates ğŸ«</p>

<button id="yesBtn">Yes ğŸ’–</button>
<button id="noBtn">No ğŸ™ˆ</button>

<img id="gif" class="hidden">

<br>

<button id="shareBtn" class="hidden">Share ğŸ’Œ</button>
<button id="themeBtn">Theme ğŸŒ™</button>
</div>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const msg = document.getElementById("message");
const title = document.getElementById("title");
const gif = document.getElementById("gif");
const shareBtn = document.getElementById("shareBtn");
const themeBtn = document.getElementById("themeBtn");

let noCount = 0;

// Name from URL
const params = new URLSearchParams(window.location.search);
const name = params.get("name");
if(name){
  title.textContent = "Will you be my Valentine, " + name + "? ğŸ’˜";
}

const gifs = [
  "https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif",
  "https://media.giphy.com/media/26BRv0ThflsHCqDrG/giphy.gif",
  "https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif"
];

function moveNo(){
  const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
  const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
  noBtn.style.position = "absolute";
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
}

noBtn.addEventListener("click", function(){
  noCount++;
  if(noCount === 1){
    msg.textContent = "Excuse me?? ğŸ˜¤ Try again ğŸ˜";
  } else {
    moveNo();
    msg.textContent = "You canâ€™t escape love ğŸ’˜ğŸ˜‚";
  }
});

noBtn.addEventListener("mouseenter", function(){
  if(noCount >= 2){
    moveNo();
  }
});

yesBtn.addEventListener("click", function(){
  title.textContent = "YAYYY ğŸ’˜ğŸ˜";
  msg.textContent = "Best Valentine ever â¤ï¸";
  yesBtn.classList.add("hidden");
  noBtn.classList.add("hidden");

  gif.src = gifs[Math.floor(Math.random()*gifs.length)];
  gif.classList.remove("hidden");

  shareBtn.classList.remove("hidden");

  launchConfetti();
  startHearts();
});

shareBtn.addEventListener("click", function(){
  window.open("https://wa.me/?text=Someone has a Valentine question ğŸ’˜ " + window.location.href);
});

let dark = false;
themeBtn.addEventListener("click", function(){
  dark = !dark;
  document.body.classList.toggle("dark");
});

function launchConfetti(){
  for(let i=0;i<30;i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.background = randomColor();
    c
